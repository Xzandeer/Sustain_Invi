{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Z:/code/lib/firebase.js"],"sourcesContent":["import { initializeApp, getApps } from \"firebase/app\";\nimport { getFirestore } from \"firebase/firestore\";\nimport { getAuth } from \"firebase/auth\";\n\nconst firebaseConfig = {\n  apiKey: process.env.NEXT_PUBLIC_FIREBASE_API_KEY,\n  authDomain: process.env.NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN,\n  projectId: process.env.NEXT_PUBLIC_FIREBASE_PROJECT_ID,\n  storageBucket: process.env.NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET,\n  messagingSenderId: process.env.NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID,\n  appId: process.env.NEXT_PUBLIC_FIREBASE_APP_ID,\n  measurementId: process.env.NEXT_PUBLIC_FIREBASE_MEASUREMENT_ID,\n};\n\nconst app = !getApps().length\n  ? initializeApp(firebaseConfig)\n  : getApps()[0];\n\nexport const db = getFirestore(app);\nexport const auth = getAuth(app);\n"],"names":[],"mappings":";;;;;;AAKU;AALV;AAAA;AACA;AAAA;AACA;AAAA;;;;AAEA,MAAM,iBAAiB;IACrB,MAAM;IACN,UAAU;IACV,SAAS;IACT,aAAa;IACb,iBAAiB;IACjB,KAAK;IACL,aAAa;AACf;AAEA,MAAM,MAAM,CAAC,IAAA,8KAAO,IAAG,MAAM,GACzB,IAAA,oLAAa,EAAC,kBACd,IAAA,8KAAO,GAAE,CAAC,EAAE;AAET,MAAM,KAAK,IAAA,kLAAY,EAAC;AACxB,MAAM,OAAO,IAAA,wKAAO,EAAC"}},
    {"offset": {"line": 39, "column": 0}, "map": {"version":3,"sources":["file:///Z:/code/components/Navbar.tsx"],"sourcesContent":["'use client'\n\nimport { useEffect, useState } from 'react'\nimport { useRouter } from 'next/navigation'\nimport { signOut } from 'firebase/auth'\nimport { auth } from '@/lib/firebase'\nimport Link from 'next/link'\n\nexport default function Navbar() {\n  const router = useRouter()\n  const [user, setUser] = useState<any>(null)\n  const [loading, setLoading] = useState(true)\n\n  useEffect(() => {\n    const unsubscribe = auth.onAuthStateChanged((currentUser) => {\n      setUser(currentUser)\n      setLoading(false)\n      if (!currentUser) {\n        router.push('/login')\n      }\n    })\n\n    return () => unsubscribe()\n  }, [router])\n\n  const handleLogout = async () => {\n    try {\n      await signOut(auth)\n      router.push('/login')\n    } catch (error) {\n      console.error('Logout failed:', error)\n    }\n  }\n\n  if (loading) {\n    return null\n  }\n\n  if (!user) {\n    return null\n  }\n\n  return (\n    <nav className=\"bg-gradient-to-r from-green-600 to-green-700 text-white shadow-lg\">\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n        <div className=\"flex items-center justify-between h-16\">\n          <div className=\"flex items-center space-x-8\">\n            <Link href=\"/dashboard\" className=\"font-bold text-xl hover:opacity-90 transition\">\n              SUSTAIN\n            </Link>\n            <div className=\"flex space-x-4\">\n              <Link href=\"/dashboard\" className=\"hover:bg-green-500 px-3 py-2 rounded-md text-sm font-medium transition\">\n                Dashboard\n              </Link>\n              <Link href=\"/items\" className=\"hover:bg-green-500 px-3 py-2 rounded-md text-sm font-medium transition\">\n                Items\n              </Link>\n              <Link href=\"/sales\" className=\"hover:bg-green-500 px-3 py-2 rounded-md text-sm font-medium transition\">\n                Sales\n              </Link>\n            </div>\n          </div>\n\n          <div className=\"flex items-center space-x-4\">\n            <span className=\"text-sm\">{user?.email}</span>\n            <button\n              onClick={handleLogout}\n              className=\"bg-red-600 hover:bg-red-700 px-4 py-2 rounded-md text-sm font-medium transition\"\n            >\n              Logout\n            </button>\n          </div>\n        </div>\n      </div>\n    </nav>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAAA;AACA;AACA;;;AANA;;;;;;AAQe,SAAS;;IACtB,MAAM,SAAS,IAAA,kJAAS;IACxB,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,yKAAQ,EAAM;IACtC,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAC;IAEvC,IAAA,0KAAS;4BAAC;YACR,MAAM,cAAc,0HAAI,CAAC,kBAAkB;gDAAC,CAAC;oBAC3C,QAAQ;oBACR,WAAW;oBACX,IAAI,CAAC,aAAa;wBAChB,OAAO,IAAI,CAAC;oBACd;gBACF;;YAEA;oCAAO,IAAM;;QACf;2BAAG;QAAC;KAAO;IAEX,MAAM,eAAe;QACnB,IAAI;YACF,MAAM,IAAA,wKAAO,EAAC,0HAAI;YAClB,OAAO,IAAI,CAAC;QACd,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,kBAAkB;QAClC;IACF;IAEA,IAAI,SAAS;QACX,OAAO;IACT;IAEA,IAAI,CAAC,MAAM;QACT,OAAO;IACT;IAEA,qBACE,6LAAC;QAAI,WAAU;kBACb,cAAA,6LAAC;YAAI,WAAU;sBACb,cAAA,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAI,WAAU;;0CACb,6LAAC,0KAAI;gCAAC,MAAK;gCAAa,WAAU;0CAAgD;;;;;;0CAGlF,6LAAC;gCAAI,WAAU;;kDACb,6LAAC,0KAAI;wCAAC,MAAK;wCAAa,WAAU;kDAAyE;;;;;;kDAG3G,6LAAC,0KAAI;wCAAC,MAAK;wCAAS,WAAU;kDAAyE;;;;;;kDAGvG,6LAAC,0KAAI;wCAAC,MAAK;wCAAS,WAAU;kDAAyE;;;;;;;;;;;;;;;;;;kCAM3G,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAK,WAAU;0CAAW,MAAM;;;;;;0CACjC,6LAAC;gCACC,SAAS;gCACT,WAAU;0CACX;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQb;GApEwB;;QACP,kJAAS;;;KADF"}},
    {"offset": {"line": 214, "column": 0}, "map": {"version":3,"sources":["file:///Z:/code/components/KPICard.tsx"],"sourcesContent":["interface KPICardProps {\n  title: string\n  value: string | number\n  icon: string\n  color: 'green' | 'blue' | 'yellow' | 'purple'\n}\n\nconst colorClasses = {\n  green: 'bg-green-50 dark:bg-green-900 text-green-700 dark:text-green-400',\n  blue: 'bg-blue-50 dark:bg-blue-900 text-blue-700 dark:text-blue-400',\n  yellow: 'bg-yellow-50 dark:bg-yellow-900 text-yellow-700 dark:text-yellow-400',\n  purple: 'bg-purple-50 dark:bg-purple-900 text-purple-700 dark:text-purple-400',\n}\n\nexport default function KPICard({ title, value, icon, color }: KPICardProps) {\n  return (\n    <div className={`rounded-lg p-6 ${colorClasses[color]}`}>\n      <p className=\"text-sm font-medium mb-2 opacity-80\">{title}</p>\n      <div className=\"flex items-center justify-between\">\n        <div>\n          <p className=\"text-3xl font-bold\">{value}</p>\n        </div>\n        <div className=\"text-4xl opacity-20\">{icon}</div>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;;AAOA,MAAM,eAAe;IACnB,OAAO;IACP,MAAM;IACN,QAAQ;IACR,QAAQ;AACV;AAEe,SAAS,QAAQ,EAAE,KAAK,EAAE,KAAK,EAAE,IAAI,EAAE,KAAK,EAAgB;IACzE,qBACE,6LAAC;QAAI,WAAW,CAAC,eAAe,EAAE,YAAY,CAAC,MAAM,EAAE;;0BACrD,6LAAC;gBAAE,WAAU;0BAAuC;;;;;;0BACpD,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;kCACC,cAAA,6LAAC;4BAAE,WAAU;sCAAsB;;;;;;;;;;;kCAErC,6LAAC;wBAAI,WAAU;kCAAuB;;;;;;;;;;;;;;;;;;AAI9C;KAZwB"}},
    {"offset": {"line": 286, "column": 0}, "map": {"version":3,"sources":["file:///Z:/code/app/dashboard/page.tsx"],"sourcesContent":["'use client'\n\nimport { useEffect, useState } from 'react'\nimport { useRouter } from 'next/navigation'\nimport { onAuthStateChanged } from 'firebase/auth'\nimport { collection, getDocs } from 'firebase/firestore'\nimport { auth, db } from '@/lib/firebase'\nimport Navbar from '@/components/Navbar'\nimport KPICard from '@/components/KPICard'\nimport {\n  LineChart,\n  Line,\n  XAxis,\n  YAxis,\n  CartesianGrid,\n  Tooltip,\n  Legend,\n  ResponsiveContainer,\n} from 'recharts'\n\ninterface Item {\n  id: string\n  name: string\n  price: number\n  status: string\n  createdAt: any\n}\n\ninterface Sale {\n  id: string\n  item_name: string\n  amount: number\n  date: string\n  timestamp: any\n}\n\nexport default function DashboardPage() {\n  const router = useRouter()\n  const [user, setUser] = useState<any>(null)\n  const [items, setItems] = useState<Item[]>([])\n  const [sales, setSales] = useState<Sale[]>([])\n  const [loading, setLoading] = useState(true)\n  const [chartData, setChartData] = useState<any[]>([])\n\n  useEffect(() => {\n    const unsubscribe = onAuthStateChanged(auth, async (currentUser) => {\n      if (!currentUser) {\n        router.push('/login')\n        return\n      }\n      setUser(currentUser)\n\n      try {\n        const itemsSnapshot = await getDocs(collection(db, 'items'))\n        const itemsList = itemsSnapshot.docs.map((doc) => ({\n          id: doc.id,\n          ...doc.data(),\n        })) as Item[]\n        setItems(itemsList)\n\n        const salesSnapshot = await getDocs(collection(db, 'sales'))\n        const salesList = (salesSnapshot.docs.map((doc) => ({\n          id: doc.id,\n          ...doc.data(),\n        })) as Sale[]).sort((a, b) => b.timestamp - a.timestamp)\n        setSales(salesList)\n\n        // Generate chart data\n        generateChartData(salesList)\n      } catch (error) {\n        console.error('Error fetching data:', error)\n      } finally {\n        setLoading(false)\n      }\n    })\n\n    return () => unsubscribe()\n  }, [router])\n\n  const generateChartData = (salesList: Sale[]) => {\n    const today = new Date()\n    const chartDays: any = {}\n\n    // Initialize last 14 days\n    for (let i = 13; i >= 0; i--) {\n      const date = new Date(today)\n      date.setDate(date.getDate() - i)\n      const dateStr = date.toISOString().split('T')[0]\n      chartDays[dateStr] = 0\n    }\n\n    // Add actual sales\n    salesList.forEach((sale) => {\n      if (chartDays.hasOwnProperty(sale.date)) {\n        chartDays[sale.date] += sale.amount\n      }\n    })\n\n    // Convert to chart format\n    const data = Object.entries(chartDays).map(([date, amount]) => ({\n      date: new Date(date).toLocaleDateString('en-US', {\n        month: 'short',\n        day: 'numeric',\n      }),\n      sales: amount,\n    }))\n\n    // Calculate 3-day moving average forecast\n    const forecast = [...data]\n    const lastThree = data.slice(-3).map((d) => d.sales)\n    const avgSales = lastThree.reduce((a, b) => a + b, 0) / 3\n\n    for (let i = 0; i < 7; i++) {\n      const lastDate = new Date(today)\n      lastDate.setDate(lastDate.getDate() + i + 1)\n      forecast.push({\n        date: lastDate.toLocaleDateString('en-US', {\n          month: 'short',\n          day: 'numeric',\n        }),\n        forecast: Math.round(avgSales),\n      })\n    }\n\n    setChartData(forecast)\n  }\n\n  const totalItems = items.length\n  const inStock = items.filter((i) => i.status === 'In Stock').length\n  const totalSold = sales.length\n  const totalSalesAmount = sales.reduce((sum, s) => sum + s.amount, 0)\n\n  if (loading) {\n    return (\n      <>\n        <Navbar />\n        <div className=\"flex items-center justify-center h-screen\">\n          <p>Loading...</p>\n        </div>\n      </>\n    )\n  }\n\n  return (\n    <>\n      <Navbar />\n      <main className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n        <h1 className=\"text-3xl font-bold mb-8 text-gray-900 dark:text-white\">\n          Dashboard\n        </h1>\n\n        {/* KPIs */}\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-8\">\n          <KPICard title=\"Total Items\" value={totalItems} icon=\"ðŸ“¦\" color=\"green\" />\n          <KPICard\n            title=\"In Stock\"\n            value={inStock}\n            icon=\"ðŸ“\"\n            color=\"blue\"\n          />\n          <KPICard\n            title=\"Items Sold\"\n            value={totalSold}\n            icon=\"âœ…\"\n            color=\"purple\"\n          />\n          <KPICard\n            title=\"Total Sales\"\n            value={`â‚±${totalSalesAmount.toFixed(2)}`}\n            icon=\"ðŸ’°\"\n            color=\"yellow\"\n          />\n        </div>\n\n        {/* Chart */}\n        <div className=\"bg-white dark:bg-slate-800 rounded-lg shadow-lg p-6\">\n          <h2 className=\"text-xl font-bold mb-4 text-gray-900 dark:text-white\">\n            Sales Trend & Forecast\n          </h2>\n          {chartData.length > 0 ? (\n            <ResponsiveContainer width=\"100%\" height={400}>\n              <LineChart data={chartData}>\n                <CartesianGrid strokeDasharray=\"3 3\" stroke=\"#e5e7eb\" />\n                <XAxis dataKey=\"date\" stroke=\"#6b7280\" />\n                <YAxis stroke=\"#6b7280\" />\n                <Tooltip\n                  contentStyle={{\n                    backgroundColor: '#1f2937',\n                    border: 'none',\n                    borderRadius: '8px',\n                    color: '#fff',\n                  }}\n                />\n                <Legend />\n                <Line\n                  type=\"monotone\"\n                  dataKey=\"sales\"\n                  stroke=\"#16a34a\"\n                  strokeWidth={2}\n                  dot={false}\n                  name=\"Actual Sales\"\n                />\n                <Line\n                  type=\"monotone\"\n                  dataKey=\"forecast\"\n                  stroke=\"#3b82f6\"\n                  strokeWidth={2}\n                  strokeDasharray=\"5 5\"\n                  dot={false}\n                  name=\"AI Forecast\"\n                />\n              </LineChart>\n            </ResponsiveContainer>\n          ) : (\n            <p className=\"text-gray-500 dark:text-gray-400 text-center py-12\">\n              No data available\n            </p>\n          )}\n        </div>\n      </main>\n    </>\n  )\n}\n"],"names":[],"mappings":"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"}}]
}