{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Z:/code/lib/firebase.js"],"sourcesContent":["import { initializeApp } from \"firebase/app\";\nimport { getFirestore } from \"firebase/firestore\";\nimport { getAuth } from \"firebase/auth\";\n\nconst firebaseConfig = {\n  apiKey: \"AIzaSyAfAbFbC8kYWLwGW_fKJkGf2gKGXSGEc10\",\n  authDomain: \"sustain-inventory.firebaseapp.com\",\n  projectId: \"sustain-inventory\",\n  storageBucket: \"sustain-inventory.firebasestorage.app\",\n  messagingSenderId: \"938566401352\",\n  appId: \"1:938566401352:web:6256eb0f2c028d8e3f477d\",\n  measurementId: \"G-LHZ8KX6EBZ\"\n};\n\n// Initialize Firebase\nconst app = initializeApp(firebaseConfig);\n\n// Export Firestore database\nexport const db = getFirestore(app);\n\n// Export Authentication\nexport const auth = getAuth(app);\n"],"names":[],"mappings":";;;;;;AAAA;AAAA;AACA;AAAA;AACA;AAAA;;;;AAEA,MAAM,iBAAiB;IACrB,QAAQ;IACR,YAAY;IACZ,WAAW;IACX,eAAe;IACf,mBAAmB;IACnB,OAAO;IACP,eAAe;AACjB;AAEA,sBAAsB;AACtB,MAAM,MAAM,IAAA,oLAAa,EAAC;AAGnB,MAAM,KAAK,IAAA,kLAAY,EAAC;AAGxB,MAAM,OAAO,IAAA,wKAAO,EAAC"}},
    {"offset": {"line": 39, "column": 0}, "map": {"version":3,"sources":["file:///Z:/code/components/Sidebar.tsx"],"sourcesContent":["'use client'\n\nimport { useState, useEffect } from 'react'\nimport { useRouter, usePathname } from 'next/navigation'\nimport { signOut } from 'firebase/auth'\nimport { auth } from '@/lib/firebase'\nimport Link from 'next/link'\nimport { Menu, X } from 'lucide-react'\n\ninterface SidebarProps {\n  userRole: string | null\n}\n\nexport default function Sidebar({ userRole }: SidebarProps) {\n  const router = useRouter()\n  const pathname = usePathname()\n  const [isOpen, setIsOpen] = useState(false)\n  const [isMobile, setIsMobile] = useState(false)\n\n  useEffect(() => {\n    const handleResize = () => {\n      setIsMobile(window.innerWidth < 768)\n    }\n    handleResize()\n    window.addEventListener('resize', handleResize)\n    return () => window.removeEventListener('resize', handleResize)\n  }, [])\n\n  const handleLogout = async () => {\n    try {\n      await signOut(auth)\n      router.push('/login')\n    } catch (error) {\n      console.error('Logout failed:', error)\n    }\n  }\n\n  const isActive = (path: string) => pathname === path\n\n  const sidebarContent = (\n    <>\n      <div className=\"p-6 border-b border-blue-700\">\n        <h2 className=\"text-2xl font-bold text-white\">SUSTAIN</h2>\n        <p className=\"text-blue-200 text-xs mt-1\">Inventory System</p>\n      </div>\n\n      <nav className=\"flex-1 p-4 space-y-2\">\n        <Link\n          href=\"/dashboard\"\n          className={`block px-4 py-3 rounded-lg transition ${\n            isActive('/dashboard')\n              ? 'bg-blue-500 text-white'\n              : 'text-blue-100 hover:bg-blue-700'\n          }`}\n        >\n          Dashboard\n        </Link>\n        <Link\n          href=\"/items\"\n          className={`block px-4 py-3 rounded-lg transition ${\n            isActive('/items')\n              ? 'bg-blue-500 text-white'\n              : 'text-blue-100 hover:bg-blue-700'\n          }`}\n        >\n          Items\n        </Link>\n        <Link\n          href=\"/sales\"\n          className={`block px-4 py-3 rounded-lg transition ${\n            isActive('/sales')\n              ? 'bg-blue-500 text-white'\n              : 'text-blue-100 hover:bg-blue-700'\n          }`}\n        >\n          Sales\n        </Link>\n      </nav>\n\n      <div className=\"p-4 border-t border-blue-700\">\n        <div className=\"mb-4 px-4 py-2 bg-blue-900 rounded-lg text-center\">\n          <p className=\"text-blue-100 text-xs\">Role</p>\n          <p className=\"text-white font-semibold capitalize\">{userRole}</p>\n        </div>\n        <button\n          onClick={handleLogout}\n          className=\"w-full px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition text-sm font-medium\"\n        >\n          Logout\n        </button>\n      </div>\n    </>\n  )\n\n  if (isMobile) {\n    return (\n      <>\n        <div className=\"fixed top-0 left-0 right-0 bg-blue-900 text-white p-4 flex justify-between items-center z-50\">\n          <h1 className=\"text-xl font-bold\">SUSTAIN</h1>\n          <button onClick={() => setIsOpen(!isOpen)} className=\"text-white\">\n            {isOpen ? <X size={24} /> : <Menu size={24} />}\n          </button>\n        </div>\n        {isOpen && (\n          <div className=\"fixed top-16 left-0 right-0 bg-blue-900 h-screen z-40 overflow-y-auto\">\n            <div className=\"flex flex-col h-full\">{sidebarContent}</div>\n          </div>\n        )}\n      </>\n    )\n  }\n\n  return (\n    <div className=\"fixed left-0 top-0 h-screen w-64 bg-blue-900 text-white flex flex-col\">\n      {sidebarContent}\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;;;AAPA;;;;;;;AAae,SAAS,QAAQ,EAAE,QAAQ,EAAgB;;IACxD,MAAM,SAAS,IAAA,kJAAS;IACxB,MAAM,WAAW,IAAA,oJAAW;IAC5B,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,yKAAQ,EAAC;IACrC,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,yKAAQ,EAAC;IAEzC,IAAA,0KAAS;6BAAC;YACR,MAAM;kDAAe;oBACnB,YAAY,OAAO,UAAU,GAAG;gBAClC;;YACA;YACA,OAAO,gBAAgB,CAAC,UAAU;YAClC;qCAAO,IAAM,OAAO,mBAAmB,CAAC,UAAU;;QACpD;4BAAG,EAAE;IAEL,MAAM,eAAe;QACnB,IAAI;YACF,MAAM,IAAA,wKAAO,EAAC,0HAAI;YAClB,OAAO,IAAI,CAAC;QACd,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,kBAAkB;QAClC;IACF;IAEA,MAAM,WAAW,CAAC,OAAiB,aAAa;IAEhD,MAAM,+BACJ;;0BACE,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAG,WAAU;kCAAgC;;;;;;kCAC9C,6LAAC;wBAAE,WAAU;kCAA6B;;;;;;;;;;;;0BAG5C,6LAAC;gBAAI,WAAU;;kCACb,6LAAC,0KAAI;wBACH,MAAK;wBACL,WAAW,CAAC,sCAAsC,EAChD,SAAS,gBACL,2BACA,mCACJ;kCACH;;;;;;kCAGD,6LAAC,0KAAI;wBACH,MAAK;wBACL,WAAW,CAAC,sCAAsC,EAChD,SAAS,YACL,2BACA,mCACJ;kCACH;;;;;;kCAGD,6LAAC,0KAAI;wBACH,MAAK;wBACL,WAAW,CAAC,sCAAsC,EAChD,SAAS,YACL,2BACA,mCACJ;kCACH;;;;;;;;;;;;0BAKH,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAE,WAAU;0CAAwB;;;;;;0CACrC,6LAAC;gCAAE,WAAU;0CAAuC;;;;;;;;;;;;kCAEtD,6LAAC;wBACC,SAAS;wBACT,WAAU;kCACX;;;;;;;;;;;;;;IAOP,IAAI,UAAU;QACZ,qBACE;;8BACE,6LAAC;oBAAI,WAAU;;sCACb,6LAAC;4BAAG,WAAU;sCAAoB;;;;;;sCAClC,6LAAC;4BAAO,SAAS,IAAM,UAAU,CAAC;4BAAS,WAAU;sCAClD,uBAAS,6LAAC,oMAAC;gCAAC,MAAM;;;;;qDAAS,6LAAC,6MAAI;gCAAC,MAAM;;;;;;;;;;;;;;;;;gBAG3C,wBACC,6LAAC;oBAAI,WAAU;8BACb,cAAA,6LAAC;wBAAI,WAAU;kCAAwB;;;;;;;;;;;;;IAKjD;IAEA,qBACE,6LAAC;QAAI,WAAU;kBACZ;;;;;;AAGP;GAxGwB;;QACP,kJAAS;QACP,oJAAW;;;KAFN"}},
    {"offset": {"line": 282, "column": 0}, "map": {"version":3,"sources":["file:///Z:/code/components/ProtectedRoute.tsx"],"sourcesContent":["'use client'\n\nimport { useEffect, useState } from 'react'\nimport { useRouter } from 'next/navigation'\nimport { onAuthStateChanged } from 'firebase/auth'\nimport { auth, db } from '@/lib/firebase'\nimport { doc, getDoc } from 'firebase/firestore'\nimport Sidebar from './Sidebar'\n\ninterface ProtectedRouteProps {\n  children: React.ReactNode\n}\n\nexport default function ProtectedRoute({ children }: ProtectedRouteProps) {\n  const router = useRouter()\n  const [loading, setLoading] = useState(true)\n  const [userRole, setUserRole] = useState<string | null>(null)\n\n  useEffect(() => {\n    const unsubscribe = onAuthStateChanged(auth, async (user) => {\n      if (user) {\n        try {\n          const userDoc = await getDoc(doc(db, 'users', user.uid))\n          if (userDoc.exists()) {\n            setUserRole(userDoc.data().role || 'staff')\n          } else {\n            setUserRole('staff')\n          }\n        } catch (error) {\n          console.error('Error fetching user role:', error)\n          setUserRole('staff')\n        }\n      } else {\n        router.push('/login')\n      }\n      setLoading(false)\n    })\n\n    return () => unsubscribe()\n  }, [router])\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center\">\n        <p className=\"text-gray-600\">Loading...</p>\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"flex\">\n      <Sidebar userRole={userRole} />\n      <div className=\"flex-1 md:ml-64 mt-16 md:mt-0\">\n        {children}\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;;;AAPA;;;;;;;AAae,SAAS,eAAe,EAAE,QAAQ,EAAuB;;IACtE,MAAM,SAAS,IAAA,kJAAS;IACxB,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAC;IACvC,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,yKAAQ,EAAgB;IAExD,IAAA,0KAAS;oCAAC;YACR,MAAM,cAAc,IAAA,mLAAkB,EAAC,0HAAI;wDAAE,OAAO;oBAClD,IAAI,MAAM;wBACR,IAAI;4BACF,MAAM,UAAU,MAAM,IAAA,4KAAM,EAAC,IAAA,yKAAG,EAAC,wHAAE,EAAE,SAAS,KAAK,GAAG;4BACtD,IAAI,QAAQ,MAAM,IAAI;gCACpB,YAAY,QAAQ,IAAI,GAAG,IAAI,IAAI;4BACrC,OAAO;gCACL,YAAY;4BACd;wBACF,EAAE,OAAO,OAAO;4BACd,QAAQ,KAAK,CAAC,6BAA6B;4BAC3C,YAAY;wBACd;oBACF,OAAO;wBACL,OAAO,IAAI,CAAC;oBACd;oBACA,WAAW;gBACb;;YAEA;4CAAO,IAAM;;QACf;mCAAG;QAAC;KAAO;IAEX,IAAI,SAAS;QACX,qBACE,6LAAC;YAAI,WAAU;sBACb,cAAA,6LAAC;gBAAE,WAAU;0BAAgB;;;;;;;;;;;IAGnC;IAEA,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC,oIAAO;gBAAC,UAAU;;;;;;0BACnB,6LAAC;gBAAI,WAAU;0BACZ;;;;;;;;;;;;AAIT;GA5CwB;;QACP,kJAAS;;;KADF"}},
    {"offset": {"line": 395, "column": 0}, "map": {"version":3,"sources":["file:///Z:/code/components/KPICard.tsx"],"sourcesContent":["interface KPICardProps {\n  title: string\n  value: string | number\n  icon: string\n  color: 'green' | 'blue' | 'yellow' | 'purple'\n}\n\nconst colorClasses = {\n  green: 'bg-green-50 dark:bg-green-900 text-green-700 dark:text-green-400',\n  blue: 'bg-blue-50 dark:bg-blue-900 text-blue-700 dark:text-blue-400',\n  yellow: 'bg-yellow-50 dark:bg-yellow-900 text-yellow-700 dark:text-yellow-400',\n  purple: 'bg-purple-50 dark:bg-purple-900 text-purple-700 dark:text-purple-400',\n}\n\nexport default function KPICard({ title, value, icon, color }: KPICardProps) {\n  return (\n    <div className={`rounded-lg p-6 ${colorClasses[color]}`}>\n      <p className=\"text-sm font-medium mb-2 opacity-80\">{title}</p>\n      <div className=\"flex items-center justify-between\">\n        <div>\n          <p className=\"text-3xl font-bold\">{value}</p>\n        </div>\n        <div className=\"text-4xl opacity-20\">{icon}</div>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;;AAOA,MAAM,eAAe;IACnB,OAAO;IACP,MAAM;IACN,QAAQ;IACR,QAAQ;AACV;AAEe,SAAS,QAAQ,EAAE,KAAK,EAAE,KAAK,EAAE,IAAI,EAAE,KAAK,EAAgB;IACzE,qBACE,6LAAC;QAAI,WAAW,CAAC,eAAe,EAAE,YAAY,CAAC,MAAM,EAAE;;0BACrD,6LAAC;gBAAE,WAAU;0BAAuC;;;;;;0BACpD,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;kCACC,cAAA,6LAAC;4BAAE,WAAU;sCAAsB;;;;;;;;;;;kCAErC,6LAAC;wBAAI,WAAU;kCAAuB;;;;;;;;;;;;;;;;;;AAI9C;KAZwB"}},
    {"offset": {"line": 467, "column": 0}, "map": {"version":3,"sources":["file:///Z:/code/lib/forecast.ts"],"sourcesContent":["/**\n * Create helper function for moving average calculation\n * Computes N-day moving average from sales data\n */\nexport function calculateMovingAverage(\n  data: number[],\n  windowSize: number\n): number[] {\n  const averages: number[] = []\n\n  for (let i = 0; i < data.length; i++) {\n    if (i < windowSize - 1) {\n      averages.push(data[i])\n    } else {\n      const window = data.slice(i - windowSize + 1, i + 1)\n      const avg = window.reduce((a, b) => a + b, 0) / windowSize\n      averages.push(Math.round(avg))\n    }\n  }\n\n  return averages\n}\n\n/**\n * Generate 7-day forecast based on moving average\n */\nexport function generateForecast(movingAverages: number[], days: number = 7): number[] {\n  const forecast: number[] = []\n  const lastAverage = movingAverages[movingAverages.length - 1]\n\n  for (let i = 0; i < days; i++) {\n    forecast.push(lastAverage)\n  }\n\n  return forecast\n}\n"],"names":[],"mappings":"AAAA;;;CAGC;;;;;;AACM,SAAS,uBACd,IAAc,EACd,UAAkB;IAElB,MAAM,WAAqB,EAAE;IAE7B,IAAK,IAAI,IAAI,GAAG,IAAI,KAAK,MAAM,EAAE,IAAK;QACpC,IAAI,IAAI,aAAa,GAAG;YACtB,SAAS,IAAI,CAAC,IAAI,CAAC,EAAE;QACvB,OAAO;YACL,MAAM,SAAS,KAAK,KAAK,CAAC,IAAI,aAAa,GAAG,IAAI;YAClD,MAAM,MAAM,OAAO,MAAM,CAAC,CAAC,GAAG,IAAM,IAAI,GAAG,KAAK;YAChD,SAAS,IAAI,CAAC,KAAK,KAAK,CAAC;QAC3B;IACF;IAEA,OAAO;AACT;AAKO,SAAS,iBAAiB,cAAwB,EAAE,OAAe,CAAC;IACzE,MAAM,WAAqB,EAAE;IAC7B,MAAM,cAAc,cAAc,CAAC,eAAe,MAAM,GAAG,EAAE;IAE7D,IAAK,IAAI,IAAI,GAAG,IAAI,MAAM,IAAK;QAC7B,SAAS,IAAI,CAAC;IAChB;IAEA,OAAO;AACT"}},
    {"offset": {"line": 504, "column": 0}, "map": {"version":3,"sources":["file:///Z:/code/app/dashboard/page.tsx"],"sourcesContent":["'use client'\n\nimport { useEffect, useState } from 'react'\nimport { collection, getDocs } from 'firebase/firestore'\nimport { db, auth } from '@/lib/firebase'\nimport { onAuthStateChanged } from 'firebase/auth'\nimport ProtectedRoute from '@/components/ProtectedRoute'\nimport KPICard from '@/components/KPICard'\nimport { Line, Bar } from 'react-chartjs-2'\nimport {\n  Chart as ChartJS,\n  CategoryScale,\n  LinearScale,\n  PointElement,\n  LineElement,\n  BarElement,\n  Tooltip,\n  Legend,\n} from 'chart.js'\nimport { calculateMovingAverage, generateForecast } from '@/lib/forecast'\n\nChartJS.register(\n  CategoryScale,\n  LinearScale,\n  PointElement,\n  LineElement,\n  BarElement,\n  Tooltip,\n  Legend\n)\n\ninterface Item {\n  id: string\n  name: string\n  price: number\n  status: string\n  createdAt: any\n  category?: string\n}\n\ninterface Sale {\n  id: string\n  item_name: string\n  amount: number\n  date: string\n  timestamp: any\n  category?: string\n}\n\nfunction DashboardContent() {\n  const [items, setItems] = useState<Item[]>([])\n  const [sales, setSales] = useState<Sale[]>([])\n  const [loading, setLoading] = useState(true)\n  const [overallChartData, setOverallChartData] = useState<any>(null)\n  const [categoryChartData, setCategoryChartData] = useState<any>(null)\n\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const itemsSnapshot = await getDocs(collection(db, 'items'))\n        const itemsList = itemsSnapshot.docs.map((doc) => ({\n          id: doc.id,\n          ...doc.data(),\n        })) as Item[]\n        setItems(itemsList)\n\n        const salesSnapshot = await getDocs(collection(db, 'sales'))\n        const salesList = (salesSnapshot.docs.map((doc) => ({\n          id: doc.id,\n          ...doc.data(),\n        })) as Sale[]).sort((a, b) => b.timestamp - a.timestamp)\n        setSales(salesList)\n\n        generateOverallForecastChart(salesList)\n        generateCategoryForecastChart(salesList)\n      } catch (error) {\n        console.error('Error fetching data:', error)\n      } finally {\n        setLoading(false)\n      }\n    }\n\n    fetchData()\n  }, [])\n\n  const generateOverallForecastChart = (salesList: Sale[]) => {\n    const today = new Date()\n    const chartDays: any = {}\n\n    for (let i = 13; i >= 0; i--) {\n      const date = new Date(today)\n      date.setDate(date.getDate() - i)\n      const dateStr = date.toISOString().split('T')[0]\n      chartDays[dateStr] = 0\n    }\n\n    salesList.forEach((sale) => {\n      if (chartDays.hasOwnProperty(sale.date)) {\n        chartDays[sale.date] += sale.amount\n      }\n    })\n\n    const labels = Object.keys(chartDays).map((date) =>\n      new Date(date).toLocaleDateString('en-US', { month: 'numeric', day: 'numeric' })\n    )\n    const salesAmounts = Object.values(chartDays) as number[]\n    const movingAverages = calculateMovingAverage(salesAmounts, 3)\n    const forecast = generateForecast(movingAverages, 7)\n\n    const actualData = salesAmounts\n    const forecastLabels = []\n    for (let i = 0; i < 7; i++) {\n      const date = new Date(today)\n      date.setDate(date.getDate() + i + 1)\n      forecastLabels.push(date.toLocaleDateString('en-US', { month: 'numeric', day: 'numeric' }))\n    }\n\n    const chartData = {\n      labels: [...labels, ...forecastLabels],\n      datasets: [\n        {\n          label: 'Actual Sales (â‚±)',\n          data: [...actualData, ...Array(7).fill(null)],\n          borderColor: '#16a34a',\n          backgroundColor: 'rgba(22, 163, 74, 0.1)',\n          borderWidth: 2,\n          tension: 0.4,\n          fill: false,\n          pointRadius: 4,\n          pointHoverRadius: 6,\n        },\n        {\n          label: 'AI Forecast (â‚±)',\n          data: [...Array(14).fill(null), ...forecast],\n          borderColor: '#3b82f6',\n          borderDash: [5, 5],\n          backgroundColor: 'rgba(59, 130, 246, 0.1)',\n          borderWidth: 2,\n          tension: 0.4,\n          fill: false,\n          pointRadius: 4,\n          pointHoverRadius: 6,\n        },\n      ],\n    }\n\n    setOverallChartData(chartData)\n  }\n\n  const generateCategoryForecastChart = (salesList: Sale[]) => {\n    const today = new Date()\n    const categoryByDate: any = {}\n\n    for (let i = 13; i >= 0; i--) {\n      const date = new Date(today)\n      date.setDate(date.getDate() - i)\n      const dateStr = date.toISOString().split('T')[0]\n      categoryByDate[dateStr] = {}\n    }\n\n    salesList.forEach((sale) => {\n      const category = sale.category || 'Uncategorized'\n      if (categoryByDate.hasOwnProperty(sale.date)) {\n        categoryByDate[sale.date][category] = (categoryByDate[sale.date][category] || 0) + 1\n      }\n    })\n\n    const allCategories: string[] = []\n    Object.values(categoryByDate).forEach((dayCategories: any) => {\n      Object.keys(dayCategories).forEach((cat) => {\n        if (!allCategories.includes(cat)) {\n          allCategories.push(cat)\n        }\n      })\n    })\n\n    const categoryTotals: { [key: string]: number[] } = {}\n    allCategories.forEach((cat) => {\n      categoryTotals[cat] = []\n      Object.keys(categoryByDate).forEach((date) => {\n        categoryTotals[cat].push(categoryByDate[date][cat] || 0)\n      })\n    })\n\n    const categoryForecasts: { [key: string]: number } = {}\n    allCategories.forEach((cat) => {\n      const movingAvg = calculateMovingAverage(categoryTotals[cat], 3)\n      const forecast = generateForecast(movingAvg, 7)\n      categoryForecasts[cat] = forecast[forecast.length - 1]\n    })\n\n    const topCategories = Object.entries(categoryForecasts)\n      .sort((a, b) => b[1] - a[1])\n      .slice(0, 3)\n      .map(([cat]) => cat)\n\n    const colors = ['#f59e0b', '#ec4899', '#8b5cf6']\n    const chartData = {\n      labels: topCategories,\n      datasets: [\n        {\n          label: '7-Day Forecast (Units)',\n          data: topCategories.map((cat) => categoryForecasts[cat]),\n          backgroundColor: colors.slice(0, topCategories.length),\n          borderColor: colors.slice(0, topCategories.length),\n          borderWidth: 1,\n          borderRadius: 6,\n        },\n      ],\n    }\n\n    setCategoryChartData(chartData)\n  }\n\n  const totalItems = items.length\n  const inStock = items.filter((i) => i.status === 'In Stock').length\n  const totalSold = sales.length\n  const totalSalesAmount = sales.reduce((sum, s) => sum + s.amount, 0)\n\n  const chartOptions = {\n    responsive: true,\n    maintainAspectRatio: true,\n    plugins: {\n      legend: {\n        position: 'top' as const,\n        labels: {\n          color: '#6b7280',\n          usePointStyle: true,\n          padding: 20,\n        },\n      },\n      tooltip: {\n        backgroundColor: '#1f2937',\n        titleColor: '#fff',\n        bodyColor: '#fff',\n        borderColor: '#374151',\n        borderWidth: 1,\n      },\n    },\n    scales: {\n      x: {\n        grid: {\n          color: '#e5e7eb',\n        },\n        ticks: {\n          color: '#6b7280',\n        },\n      },\n      y: {\n        grid: {\n          color: '#e5e7eb',\n        },\n        ticks: {\n          color: '#6b7280',\n        },\n      },\n    },\n  }\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center h-screen\">\n        <p>Loading...</p>\n      </div>\n    )\n  }\n\n  return (\n    <main className=\"px-4 sm:px-6 lg:px-8 py-8\">\n      <h1 className=\"text-3xl font-bold mb-8 text-gray-900 dark:text-white\">\n        Dashboard\n      </h1>\n\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-8\">\n        <KPICard title=\"Total Items\" value={totalItems} icon=\"ðŸ“¦\" color=\"green\" />\n        <KPICard title=\"In Stock\" value={inStock} icon=\"ðŸ“\" color=\"blue\" />\n        <KPICard title=\"Items Sold\" value={totalSold} icon=\"âœ…\" color=\"purple\" />\n        <KPICard title=\"Total Sales\" value={`â‚±${totalSalesAmount.toFixed(2)}`} icon=\"ðŸ’°\" color=\"yellow\" />\n      </div>\n\n      <div className=\"bg-white dark:bg-slate-800 rounded-lg shadow-lg p-6 mb-8\">\n        <h2 className=\"text-xl font-bold mb-4 text-gray-900 dark:text-white\">\n          Overall Sales Forecast\n        </h2>\n        {overallChartData ? (\n          <div style={{ position: 'relative', height: '400px' }}>\n            <Line data={overallChartData} options={chartOptions} />\n          </div>\n        ) : (\n          <p className=\"text-gray-500 dark:text-gray-400 text-center py-12\">\n            No data available\n          </p>\n        )}\n      </div>\n\n      <div className=\"bg-white dark:bg-slate-800 rounded-lg shadow-lg p-6\">\n        <h2 className=\"text-xl font-bold mb-4 text-gray-900 dark:text-white\">\n          Category Demand Forecast (Top 3)\n        </h2>\n        {categoryChartData ? (\n          <div style={{ position: 'relative', height: '300px' }}>\n            <Bar data={categoryChartData} options={chartOptions} />\n          </div>\n        ) : (\n          <p className=\"text-gray-500 dark:text-gray-400 text-center py-12\">\n            No data available\n          </p>\n        )}\n      </div>\n    </main>\n  )\n}\n\nexport default function DashboardPage() {\n  return (\n    <ProtectedRoute>\n      <DashboardContent />\n    </ProtectedRoute>\n  )\n}\n"],"names":[],"mappings":"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"}}]
}