{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 94, "column": 0}, "map": {"version":3,"sources":["file:///Z:/code/lib/firebase.js"],"sourcesContent":["import { initializeApp } from \"firebase/app\";\nimport { getFirestore } from \"firebase/firestore\";\nimport { getAuth } from \"firebase/auth\";\n\nconst firebaseConfig = {\n  apiKey: \"AIzaSyAfAbFbC8kYWLwGW_fKJkGf2gKGXSGEc10\",\n  authDomain: \"sustain-inventory.firebaseapp.com\",\n  projectId: \"sustain-inventory\",\n  storageBucket: \"sustain-inventory.firebasestorage.app\",\n  messagingSenderId: \"938566401352\",\n  appId: \"1:938566401352:web:6256eb0f2c028d8e3f477d\",\n  measurementId: \"G-LHZ8KX6EBZ\"\n};\n\n// Initialize Firebase\nconst app = initializeApp(firebaseConfig);\n\n// Export Firestore database\nexport const db = getFirestore(app);\n\n// Export Authentication\nexport const auth = getAuth(app);\n"],"names":[],"mappings":";;;;;;AAAA;AAAA;AACA;AAAA;AACA;AAAA;;;;AAEA,MAAM,iBAAiB;IACrB,QAAQ;IACR,YAAY;IACZ,WAAW;IACX,eAAe;IACf,mBAAmB;IACnB,OAAO;IACP,eAAe;AACjB;AAEA,sBAAsB;AACtB,MAAM,MAAM,IAAA,iLAAa,EAAC;AAGnB,MAAM,KAAK,IAAA,iLAAY,EAAC;AAGxB,MAAM,OAAO,IAAA,6KAAO,EAAC"}},
    {"offset": {"line": 126, "column": 0}, "map": {"version":3,"sources":["file:///Z:/code/components/Sidebar.tsx"],"sourcesContent":["'use client'\n\nimport { useState, useEffect } from 'react'\nimport { useRouter, usePathname } from 'next/navigation'\nimport { signOut } from 'firebase/auth'\nimport { auth } from '@/lib/firebase'\nimport Link from 'next/link'\nimport { Menu, X } from 'lucide-react'\n\ninterface SidebarProps {\n  userRole: string | null\n}\n\nexport default function Sidebar({ userRole }: SidebarProps) {\n  const router = useRouter()\n  const pathname = usePathname()\n  const [isOpen, setIsOpen] = useState(false)\n  const [isMobile, setIsMobile] = useState(false)\n\n  useEffect(() => {\n    const handleResize = () => {\n      setIsMobile(window.innerWidth < 768)\n    }\n    handleResize()\n    window.addEventListener('resize', handleResize)\n    return () => window.removeEventListener('resize', handleResize)\n  }, [])\n\n  const handleLogout = async () => {\n    try {\n      await signOut(auth)\n      router.push('/login')\n    } catch (error) {\n      console.error('Logout failed:', error)\n    }\n  }\n\n  const isActive = (path: string) => pathname === path\n\n  const sidebarContent = (\n    <>\n      <div className=\"p-6 border-b border-blue-700\">\n        <h2 className=\"text-2xl font-bold text-white\">SUSTAIN</h2>\n        <p className=\"text-blue-200 text-xs mt-1\">Inventory System</p>\n      </div>\n\n      <nav className=\"flex-1 p-4 space-y-2\">\n        <Link\n          href=\"/dashboard\"\n          className={`block px-4 py-3 rounded-lg transition ${\n            isActive('/dashboard')\n              ? 'bg-blue-500 text-white'\n              : 'text-blue-100 hover:bg-blue-700'\n          }`}\n        >\n          Dashboard\n        </Link>\n        <Link\n          href=\"/items\"\n          className={`block px-4 py-3 rounded-lg transition ${\n            isActive('/items')\n              ? 'bg-blue-500 text-white'\n              : 'text-blue-100 hover:bg-blue-700'\n          }`}\n        >\n          Items\n        </Link>\n        <Link\n          href=\"/sales\"\n          className={`block px-4 py-3 rounded-lg transition ${\n            isActive('/sales')\n              ? 'bg-blue-500 text-white'\n              : 'text-blue-100 hover:bg-blue-700'\n          }`}\n        >\n          Sales\n        </Link>\n      </nav>\n\n      <div className=\"p-4 border-t border-blue-700\">\n        <div className=\"mb-4 px-4 py-2 bg-blue-900 rounded-lg text-center\">\n          <p className=\"text-blue-100 text-xs\">Role</p>\n          <p className=\"text-white font-semibold capitalize\">{userRole}</p>\n        </div>\n        <button\n          onClick={handleLogout}\n          className=\"w-full px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition text-sm font-medium\"\n        >\n          Logout\n        </button>\n      </div>\n    </>\n  )\n\n  if (isMobile) {\n    return (\n      <>\n        <div className=\"fixed top-0 left-0 right-0 bg-blue-900 text-white p-4 flex justify-between items-center z-50\">\n          <h1 className=\"text-xl font-bold\">SUSTAIN</h1>\n          <button onClick={() => setIsOpen(!isOpen)} className=\"text-white\">\n            {isOpen ? <X size={24} /> : <Menu size={24} />}\n          </button>\n        </div>\n        {isOpen && (\n          <div className=\"fixed top-16 left-0 right-0 bg-blue-900 h-screen z-40 overflow-y-auto\">\n            <div className=\"flex flex-col h-full\">{sidebarContent}</div>\n          </div>\n        )}\n      </>\n    )\n  }\n\n  return (\n    <div className=\"fixed left-0 top-0 h-screen w-64 bg-blue-900 text-white flex flex-col\">\n      {sidebarContent}\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AAPA;;;;;;;;AAae,SAAS,QAAQ,EAAE,QAAQ,EAAgB;IACxD,MAAM,SAAS,IAAA,+IAAS;IACxB,MAAM,WAAW,IAAA,iJAAW;IAC5B,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,iNAAQ,EAAC;IACrC,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAC;IAEzC,IAAA,kNAAS,EAAC;QACR,MAAM,eAAe;YACnB,YAAY,OAAO,UAAU,GAAG;QAClC;QACA;QACA,OAAO,gBAAgB,CAAC,UAAU;QAClC,OAAO,IAAM,OAAO,mBAAmB,CAAC,UAAU;IACpD,GAAG,EAAE;IAEL,MAAM,eAAe;QACnB,IAAI;YACF,MAAM,IAAA,6KAAO,EAAC,uHAAI;YAClB,OAAO,IAAI,CAAC;QACd,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,kBAAkB;QAClC;IACF;IAEA,MAAM,WAAW,CAAC,OAAiB,aAAa;IAEhD,MAAM,+BACJ;;0BACE,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAG,WAAU;kCAAgC;;;;;;kCAC9C,8OAAC;wBAAE,WAAU;kCAA6B;;;;;;;;;;;;0BAG5C,8OAAC;gBAAI,WAAU;;kCACb,8OAAC,uKAAI;wBACH,MAAK;wBACL,WAAW,CAAC,sCAAsC,EAChD,SAAS,gBACL,2BACA,mCACJ;kCACH;;;;;;kCAGD,8OAAC,uKAAI;wBACH,MAAK;wBACL,WAAW,CAAC,sCAAsC,EAChD,SAAS,YACL,2BACA,mCACJ;kCACH;;;;;;kCAGD,8OAAC,uKAAI;wBACH,MAAK;wBACL,WAAW,CAAC,sCAAsC,EAChD,SAAS,YACL,2BACA,mCACJ;kCACH;;;;;;;;;;;;0BAKH,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAE,WAAU;0CAAwB;;;;;;0CACrC,8OAAC;gCAAE,WAAU;0CAAuC;;;;;;;;;;;;kCAEtD,8OAAC;wBACC,SAAS;wBACT,WAAU;kCACX;;;;;;;;;;;;;;IAOP,IAAI,UAAU;QACZ,qBACE;;8BACE,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAG,WAAU;sCAAoB;;;;;;sCAClC,8OAAC;4BAAO,SAAS,IAAM,UAAU,CAAC;4BAAS,WAAU;sCAClD,uBAAS,8OAAC,iMAAC;gCAAC,MAAM;;;;;qDAAS,8OAAC,0MAAI;gCAAC,MAAM;;;;;;;;;;;;;;;;;gBAG3C,wBACC,8OAAC;oBAAI,WAAU;8BACb,cAAA,8OAAC;wBAAI,WAAU;kCAAwB;;;;;;;;;;;;;IAKjD;IAEA,qBACE,8OAAC;QAAI,WAAU;kBACZ;;;;;;AAGP"}},
    {"offset": {"line": 349, "column": 0}, "map": {"version":3,"sources":["file:///Z:/code/components/ProtectedRoute.tsx"],"sourcesContent":["'use client'\n\nimport { useEffect, useState } from 'react'\nimport { useRouter } from 'next/navigation'\nimport { onAuthStateChanged } from 'firebase/auth'\nimport { auth, db } from '@/lib/firebase'\nimport { doc, getDoc } from 'firebase/firestore'\nimport Sidebar from './Sidebar'\n\ninterface ProtectedRouteProps {\n  children: React.ReactNode\n}\n\nexport default function ProtectedRoute({ children }: ProtectedRouteProps) {\n  const router = useRouter()\n  const [loading, setLoading] = useState(true)\n  const [userRole, setUserRole] = useState<string | null>(null)\n\n  useEffect(() => {\n    const unsubscribe = onAuthStateChanged(auth, async (user) => {\n      if (user) {\n        try {\n          const userDoc = await getDoc(doc(db, 'users', user.uid))\n          if (userDoc.exists()) {\n            setUserRole(userDoc.data().role || 'staff')\n          } else {\n            setUserRole('staff')\n          }\n        } catch (error) {\n          console.error('Error fetching user role:', error)\n          setUserRole('staff')\n        }\n      } else {\n        router.push('/login')\n      }\n      setLoading(false)\n    })\n\n    return () => unsubscribe()\n  }, [router])\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center\">\n        <p className=\"text-gray-600\">Loading...</p>\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"flex\">\n      <Sidebar userRole={userRole} />\n      <div className=\"flex-1 md:ml-64 mt-16 md:mt-0\">\n        {children}\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AAPA;;;;;;;;AAae,SAAS,eAAe,EAAE,QAAQ,EAAuB;IACtE,MAAM,SAAS,IAAA,+IAAS;IACxB,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IACvC,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAgB;IAExD,IAAA,kNAAS,EAAC;QACR,MAAM,cAAc,IAAA,wLAAkB,EAAC,uHAAI,EAAE,OAAO;YAClD,IAAI,MAAM;gBACR,IAAI;oBACF,MAAM,UAAU,MAAM,IAAA,2KAAM,EAAC,IAAA,wKAAG,EAAC,qHAAE,EAAE,SAAS,KAAK,GAAG;oBACtD,IAAI,QAAQ,MAAM,IAAI;wBACpB,YAAY,QAAQ,IAAI,GAAG,IAAI,IAAI;oBACrC,OAAO;wBACL,YAAY;oBACd;gBACF,EAAE,OAAO,OAAO;oBACd,QAAQ,KAAK,CAAC,6BAA6B;oBAC3C,YAAY;gBACd;YACF,OAAO;gBACL,OAAO,IAAI,CAAC;YACd;YACA,WAAW;QACb;QAEA,OAAO,IAAM;IACf,GAAG;QAAC;KAAO;IAEX,IAAI,SAAS;QACX,qBACE,8OAAC;YAAI,WAAU;sBACb,cAAA,8OAAC;gBAAE,WAAU;0BAAgB;;;;;;;;;;;IAGnC;IAEA,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC,iIAAO;gBAAC,UAAU;;;;;;0BACnB,8OAAC;gBAAI,WAAU;0BACZ;;;;;;;;;;;;AAIT"}},
    {"offset": {"line": 443, "column": 0}, "map": {"version":3,"sources":["file:///Z:/code/app/sales/page.tsx"],"sourcesContent":["'use client'\n\nimport { useEffect, useState } from 'react'\nimport { collection, getDocs, deleteDoc, doc } from 'firebase/firestore'\nimport { auth, db } from '@/lib/firebase'\nimport { onAuthStateChanged } from 'firebase/auth'\nimport ProtectedRoute from '@/components/ProtectedRoute'\n\ninterface Sale {\n  id: string\n  amount: number\n  category: string\n  timestamp: number\n}\n\nfunction SalesContent() {\n  const [sales, setSales] = useState<Sale[]>([])\n  const [loading, setLoading] = useState(true)\n\n  useEffect(() => {\n    const unsubscribe = onAuthStateChanged(auth, async (user) => {\n      if (user) {\n        await fetchSales()\n      }\n    })\n    return () => unsubscribe()\n  }, [])\n\n  const fetchSales = async () => {\n    try {\n      const snapshot = await getDocs(collection(db, 'sales'))\n      const salesList = snapshot.docs.map((doc) => ({\n        id: doc.id,\n        ...doc.data(),\n      })) as Sale[]\n\n      // newest first\n      salesList.sort((a, b) => b.timestamp - a.timestamp)\n\n      setSales(salesList)\n    } catch (error) {\n      console.error('Error fetching sales:', error)\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  const handleDeleteSale = async (saleId: string) => {\n    if (!confirm('Are you sure you want to delete this sale record?')) return\n\n    try {\n      await deleteDoc(doc(db, 'sales', saleId))\n      await fetchSales()\n    } catch (error) {\n      console.error('Error deleting sale:', error)\n    }\n  }\n\n  const totalSales = sales.reduce((sum, s) => sum + s.amount, 0)\n\n  return (\n    <main className=\"px-6 py-8\">\n      <h1 className=\"text-3xl font-bold text-gray-900 dark:text-white mb-2\">Sales</h1>\n\n      <p className=\"text-lg font-semibold text-green-600 dark:text-green-400 mb-6\">\n        Total Sales: ₱{totalSales.toFixed(2)}\n      </p>\n\n      <div className=\"bg-white dark:bg-slate-800 rounded-lg shadow-lg overflow-hidden\">\n        {loading ? (\n          <div className=\"p-6 text-center\">Loading...</div>\n        ) : sales.length === 0 ? (\n          <div className=\"p-6 text-center text-gray-500 dark:text-gray-400\">\n            No sales recorded.\n          </div>\n        ) : (\n          <div className=\"overflow-x-auto\">\n            <table className=\"w-full\">\n              <thead className=\"bg-gray-100 dark:bg-slate-700 border-b dark:border-slate-600\">\n                <tr>\n                  <th className=\"px-6 py-3 text-left text-sm font-semibold text-gray-900 dark:text-white\">\n                    Item / Category\n                  </th>\n                  <th className=\"px-6 py-3 text-left text-sm font-semibold text-gray-900 dark:text-white\">\n                    Amount (₱)\n                  </th>\n                  <th className=\"px-6 py-3 text-left text-sm font-semibold text-gray-900 dark:text-white\">\n                    Date\n                  </th>\n                  <th className=\"px-6 py-3 text-left text-sm font-semibold text-gray-900 dark:text-white\">\n                    Actions\n                  </th>\n                </tr>\n              </thead>\n\n              <tbody>\n                {sales.map((sale) => (\n                  <tr\n                    key={sale.id}\n                    className=\"border-b dark:border-slate-700 hover:bg-gray-50 dark:hover:bg-slate-700 transition\"\n                  >\n                    <td className=\"px-6 py-4 text-sm text-gray-800 dark:text-gray-200\">\n                      {sale.category}\n                    </td>\n\n                    <td className=\"px-6 py-4 text-sm text-gray-900 dark:text-white font-semibold\">\n                      ₱{sale.amount.toFixed(2)}\n                    </td>\n\n                    <td className=\"px-6 py-4 text-sm text-gray-600 dark:text-gray-400\">\n                      {new Date(sale.timestamp).toLocaleDateString()}\n                    </td>\n\n                    <td className=\"px-6 py-4 text-sm\">\n                      <button\n                        onClick={() => handleDeleteSale(sale.id)}\n                        className=\"text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300 font-semibold\"\n                      >\n                        Delete\n                      </button>\n                    </td>\n                  </tr>\n                ))}\n              </tbody>\n            </table>\n          </div>\n        )}\n      </div>\n    </main>\n  )\n}\n\nexport default function SalesPage() {\n  return (\n    <ProtectedRoute>\n      <SalesContent />\n    </ProtectedRoute>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AACA;AACA;AAAA;AACA;AANA;;;;;;;AAeA,SAAS;IACP,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAS,EAAE;IAC7C,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IAEvC,IAAA,kNAAS,EAAC;QACR,MAAM,cAAc,IAAA,wLAAkB,EAAC,uHAAI,EAAE,OAAO;YAClD,IAAI,MAAM;gBACR,MAAM;YACR;QACF;QACA,OAAO,IAAM;IACf,GAAG,EAAE;IAEL,MAAM,aAAa;QACjB,IAAI;YACF,MAAM,WAAW,MAAM,IAAA,4KAAO,EAAC,IAAA,+KAAU,EAAC,qHAAE,EAAE;YAC9C,MAAM,YAAY,SAAS,IAAI,CAAC,GAAG,CAAC,CAAC,MAAQ,CAAC;oBAC5C,IAAI,IAAI,EAAE;oBACV,GAAG,IAAI,IAAI,EAAE;gBACf,CAAC;YAED,eAAe;YACf,UAAU,IAAI,CAAC,CAAC,GAAG,IAAM,EAAE,SAAS,GAAG,EAAE,SAAS;YAElD,SAAS;QACX,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,yBAAyB;QACzC,SAAU;YACR,WAAW;QACb;IACF;IAEA,MAAM,mBAAmB,OAAO;QAC9B,IAAI,CAAC,QAAQ,sDAAsD;QAEnE,IAAI;YACF,MAAM,IAAA,8KAAS,EAAC,IAAA,wKAAG,EAAC,qHAAE,EAAE,SAAS;YACjC,MAAM;QACR,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,wBAAwB;QACxC;IACF;IAEA,MAAM,aAAa,MAAM,MAAM,CAAC,CAAC,KAAK,IAAM,MAAM,EAAE,MAAM,EAAE;IAE5D,qBACE,8OAAC;QAAK,WAAU;;0BACd,8OAAC;gBAAG,WAAU;0BAAwD;;;;;;0BAEtE,8OAAC;gBAAE,WAAU;;oBAAgE;oBAC5D,WAAW,OAAO,CAAC;;;;;;;0BAGpC,8OAAC;gBAAI,WAAU;0BACZ,wBACC,8OAAC;oBAAI,WAAU;8BAAkB;;;;;2BAC/B,MAAM,MAAM,KAAK,kBACnB,8OAAC;oBAAI,WAAU;8BAAmD;;;;;yCAIlE,8OAAC;oBAAI,WAAU;8BACb,cAAA,8OAAC;wBAAM,WAAU;;0CACf,8OAAC;gCAAM,WAAU;0CACf,cAAA,8OAAC;;sDACC,8OAAC;4CAAG,WAAU;sDAA0E;;;;;;sDAGxF,8OAAC;4CAAG,WAAU;sDAA0E;;;;;;sDAGxF,8OAAC;4CAAG,WAAU;sDAA0E;;;;;;sDAGxF,8OAAC;4CAAG,WAAU;sDAA0E;;;;;;;;;;;;;;;;;0CAM5F,8OAAC;0CACE,MAAM,GAAG,CAAC,CAAC,qBACV,8OAAC;wCAEC,WAAU;;0DAEV,8OAAC;gDAAG,WAAU;0DACX,KAAK,QAAQ;;;;;;0DAGhB,8OAAC;gDAAG,WAAU;;oDAAgE;oDAC1E,KAAK,MAAM,CAAC,OAAO,CAAC;;;;;;;0DAGxB,8OAAC;gDAAG,WAAU;0DACX,IAAI,KAAK,KAAK,SAAS,EAAE,kBAAkB;;;;;;0DAG9C,8OAAC;gDAAG,WAAU;0DACZ,cAAA,8OAAC;oDACC,SAAS,IAAM,iBAAiB,KAAK,EAAE;oDACvC,WAAU;8DACX;;;;;;;;;;;;uCAnBE,KAAK,EAAE;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgChC;AAEe,SAAS;IACtB,qBACE,8OAAC,wIAAc;kBACb,cAAA,8OAAC;;;;;;;;;;AAGP"}}]
}