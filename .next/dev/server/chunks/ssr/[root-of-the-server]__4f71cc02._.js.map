{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 14, "column": 0}, "map": {"version":3,"sources":["file:///Z:/code/app/dashboard/page.tsx"],"sourcesContent":["/* ------------------------------------------------------------------ */\n/* ---------------------------- TYPES -------------------------------- */\n/* ------------------------------------------------------------------ */\ninterface Sale {\nÂ  id: string\nÂ  amount: number\nÂ  timestamp: number\nÂ  date: string\nÂ  category: string\n}\n\ninterface Item {\nÂ  id: string\nÂ  status: string\n}\n\n// Type for the final category sales object sent to the API\ntype CategorySalesMap = Record<string, number[]>;\n\n/* ------------------------------------------------------------------ */\n/* -------------------------- MAIN PAGE ------------------------------ */\n/* ------------------------------------------------------------------ */\nexport default function DashboardPage() {\nÂ  return (\nÂ  Â  <ProtectedRoute>\nÂ  Â  Â  <DashboardContent />\nÂ  Â  </ProtectedRoute>\nÂ  )\n}\n\n/* ------------------------------------------------------------------ */\n/* ----------------------- DASHBOARD LOGIC (FIXED) ------------------- */\n/* ------------------------------------------------------------------ */\nfunction DashboardContent() {\nÂ  const [items, setItems] = useState<Item[]>([])\nÂ  const [sales, setSales] = useState<Sale[]>([])\nÂ  const [loading, setLoading] = useState(true)\n\nÂ  const [overallChartData, setOverallChartData] = useState<any>(null)\nÂ  const [categoryChartData, setCategoryChartData] = useState<any>(null)\n\nÂ  const [aiForecast, setAiForecast] = useState<number[]>([])\nÂ  const [aiAnalysis, setAiAnalysis] = useState<string>('')\n\nÂ  useEffect(() => {\nÂ  Â  const loadData = async () => {\nÂ  Â  Â  const itemsSnap = await getDocs(collection(db, \"items\"))\nÂ  Â  Â  const salesSnap = await getDocs(collection(db, \"sales\"))\n\nÂ  Â  Â  /* ------------ PARSE SALES SAFELY ------------ */\nÂ  Â  Â  const salesList: Sale[] = salesSnap.docs.map((doc) => {\nÂ  Â  Â  Â  const d = doc.data()\n\nÂ  Â  Â  Â  return {\nÂ  Â  Â  Â  Â  id: doc.id,\nÂ  Â  Â  Â  Â  amount: Number(d.amount ?? 0),\nÂ  Â  Â  Â  Â  timestamp: d.timestamp ?? Date.now(),\nÂ  Â  Â  Â  Â  date: d.date ?? new Date(d.timestamp ?? Date.now()).toISOString().split(\"T\")[0],\nÂ  Â  Â  Â  Â  category: d.category ?? \"Uncategorized\"\nÂ  Â  Â  Â  }\nÂ  Â  Â  })\n\nÂ  Â  Â  /* ------------ PARSE ITEMS SAFELY ------------ */\nÂ  Â  Â  const itemsList: Item[] = itemsSnap.docs.map((doc) => {\nÂ  Â  Â  Â  const d = doc.data()\nÂ  Â  Â  Â  return {\nÂ  Â  Â  Â  Â  id: doc.id,\nÂ  Â  Â  Â  Â  status: d.status ?? \"In Stock\"\nÂ  Â  Â  Â  }\nÂ  Â  Â  })\n\nÂ  Â  Â  setItems(itemsList)\nÂ  Â  Â  setSales(salesList.sort((a, b) => a.timestamp - b.timestamp))\n\nÂ  Â  Â  await generateAICharts(salesList)\nÂ  Â  Â  await generateCategoryChart(salesList)\n\nÂ  Â  Â  setLoading(false)\nÂ  Â  }\n\nÂ  Â  loadData()\nÂ  }, [])\n\nÂ  /* ------------------ AI FORECAST CALL (FIXED) ------------------ */\nÂ  // Now accepts both total daily sales and category sales data\nÂ  async function callGeminiAI(salesData: number[], categorySalesData: CategorySalesMap) {\nÂ  Â  try {\nÂ  Â  Â  const res = await fetch(\"/api/forecast\", {\nÂ  Â  Â  Â  method: \"POST\",\nÂ  Â  Â  Â  // FIX: Send the complete body structure expected by the API\nÂ  Â  Â  Â  body: JSON.stringify({ sales: salesData, categorySales: categorySalesData }),\nÂ  Â  Â  Â  headers: { \"Content-Type\": \"application/json\" }\nÂ  Â  Â  })\nÂ  Â  Â  \nÂ  Â  Â  const data = await res.json()\nÂ  Â  Â  \nÂ  Â  Â  // Handle non-200 responses gracefully\nÂ  Â  Â  if (!res.ok) {\nÂ  Â  Â  Â  console.error(\"AI API Error:\", data.error || data.details)\nÂ  Â  Â  Â  return { overallForecast: [], analysis: `AI forecast unavailable: ${data.error || 'Server error'}` }\nÂ  Â  Â  }\n\nÂ  Â  Â  return data\nÂ  Â  } catch (e) {\nÂ  Â  Â  console.error(\"Fetch or JSON Parse Error:\", e);\nÂ  Â  Â  return { overallForecast: [], analysis: \"AI forecast unavailable. Network error.\" }\nÂ  Â  }\nÂ  }\n\nÂ  /* ------------------ OVERALL SALES CHART (FIXED) ------------------ */\nÂ  async function generateAICharts(salesList: Sale[]) {\nÂ  Â  // 1. Calculate Total Daily Sales\nÂ  Â  const dailyTotals: Record<string, number> = {}\nÂ  Â  // New: Temporary structure to hold category sales by date\nÂ  Â  const dailyCategorySalesByDate: Record<string, Record<string, number>> = {}\nÂ  Â  const allCategories = new Set<string>()\n\nÂ  Â  for (const s of salesList) {\nÂ  Â  Â  // Total Sales\nÂ  Â  Â  dailyTotals[s.date] = (dailyTotals[s.date] || 0) + s.amount\nÂ  Â  Â  \nÂ  Â  Â  // Category Sales by Date\nÂ  Â  Â  if (!dailyCategorySalesByDate[s.date]) {\nÂ  Â  Â  Â  dailyCategorySalesByDate[s.date] = {}\nÂ  Â  Â  }\nÂ  Â  Â  dailyCategorySalesByDate[s.date][s.category] = (dailyCategorySalesByDate[s.date][s.category] || 0) + s.amount\nÂ  Â  Â  allCategories.add(s.category)\nÂ  Â  }\n\nÂ  Â  const sortedDates = Object.keys(dailyTotals).sort()\nÂ  Â  const salesAmounts = sortedDates.map((d) => dailyTotals[d])\n\nÂ  Â  // 2. Structure Category Sales for the AI API\nÂ  Â  const categorySalesForAPI: CategorySalesMap = {}\nÂ  Â  const categoryList = Array.from(allCategories)\n\nÂ  Â  for (const category of categoryList) {\nÂ  Â  Â  categorySalesForAPI[category] = sortedDates.map(date => {\nÂ  Â  Â  Â  // Get sale amount for this category on this specific date, or 0 if none\nÂ  Â  Â  Â  return dailyCategorySalesByDate[date]?.[category] || 0\nÂ  Â  Â  })\nÂ  Â  }\nÂ  Â  \nÂ  Â  // 3. Call AI with BOTH sales amounts and structured category sales\nÂ  Â  const ai = await callGeminiAI(salesAmounts, categorySalesForAPI)\n\nÂ  Â  // FIX: The backend response uses 'overallForecast', not 'forecast'\nÂ  Â  setAiForecast(ai.overallForecast ?? [])\nÂ  Â  setAiAnalysis(ai.analysis ?? \"\")\n\nÂ  Â  const labels = sortedDates.map(date =>\nÂ  Â  Â  new Date(date).toLocaleDateString(\"en-US\", {\nÂ  Â  Â  Â  month: \"numeric\",\nÂ  Â  Â  Â  day: \"numeric\"\nÂ  Â  Â  })\nÂ  Â  )\n\nÂ  Â  const today = new Date()\nÂ  Â  const futureLabels =\nÂ  Â  Â  ai.overallForecast?.map((_: number, i: number) => {\nÂ  Â  Â  Â  const d = new Date(today)\nÂ  Â  Â  Â  // The forecast starts the day after the last date in sortedDates.\nÂ  Â  Â  Â  // Since the full data handling is complex, for simple display, we'll offset by 1 day per forecast day.\nÂ  Â  Â  Â  d.setDate(d.getDate() + i + 1) \nÂ  Â  Â  Â  return d.toLocaleDateString(\"en-US\", { month: \"numeric\", day: \"numeric\" })\nÂ  Â  Â  }) ?? []\n\nÂ  Â  setOverallChartData({\nÂ  Â  Â  labels: [...labels, ...futureLabels],\nÂ  Â  Â  datasets: [\nÂ  Â  Â  Â  {\nÂ  Â  Â  Â  Â  label: \"Actual Sales (â‚±)\",\nÂ  Â  Â  Â  Â  data: [...salesAmounts, ...Array(ai.overallForecast?.length ?? 0).fill(null)],\nÂ  Â  Â  Â  Â  borderColor: \"#16a34a\",\nÂ  Â  Â  Â  Â  backgroundColor: \"rgba(22,163,74,0.15)\",\nÂ  Â  Â  Â  Â  borderWidth: 2,\nÂ  Â  Â  Â  Â  tension: 0.3,\nÂ  Â  Â  Â  },\nÂ  Â  Â  Â  {\nÂ  Â  Â  Â  Â  label: \"AI Forecast (â‚±)\",\nÂ  Â  Â  Â  Â  data: [...Array(salesAmounts.length).fill(null), ...(ai.overallForecast ?? [])],\nÂ  Â  Â  Â  Â  borderColor: \"#3b82f6\",\nÂ  Â  Â  Â  Â  borderDash: [6, 6],\nÂ  Â  Â  Â  Â  borderWidth: 2,\nÂ  Â  Â  Â  Â  tension: 0.3,\nÂ  Â  Â  Â  }\nÂ  Â  Â  ]\nÂ  Â  })\nÂ  }\n\nÂ  /* -------------------- CATEGORY BAR CHART -------------------- */\nÂ  async function generateCategoryChart(salesList: Sale[]) {\nÂ  Â  const categoryTotals: Record<string, number> = {}\n\nÂ  Â  for (const s of salesList) {\nÂ  Â  Â  categoryTotals[s.category] = (categoryTotals[s.category] ?? 0) + 1\nÂ  Â  }\n\nÂ  Â  const labels = Object.keys(categoryTotals)\nÂ  Â  const values = Object.values(categoryTotals)\n\nÂ  Â  const colors = [\"#f59e0b\", \"#ec4899\", \"#8b5cf6\", \"#10b981\", \"#ef4444\"]\n\nÂ  Â  setCategoryChartData({\nÂ  Â  Â  labels,\nÂ  Â  Â  datasets: [\nÂ  Â  Â  Â  {\nÂ  Â  Â  Â  Â  label: \"Total Sold\",\nÂ  Â  Â  Â  Â  data: values,\nÂ  Â  Â  Â  Â  backgroundColor: labels.map((_, i) => colors[i % colors.length]),\nÂ  Â  Â  Â  Â  borderRadius: 8,\nÂ  Â  Â  Â  }\nÂ  Â  Â  ]\nÂ  Â  })\nÂ  }\n\nÂ  /* ----------------------- UI ----------------------- */\nÂ  const totalItems = items.length\nÂ  const inStock = items.filter(i => i.status === \"In Stock\").length\nÂ  const totalSold = sales.length\nÂ  const totalSalesAmount = sales.reduce((sum, s) => sum + s.amount, 0)\n\nÂ  if (loading) {\nÂ  Â  return (\nÂ  Â  Â  <div className=\"flex items-center justify-center h-screen\">\nÂ  Â  Â  Â  <p>Loading dashboard...</p>\nÂ  Â  Â  </div>\nÂ  Â  )\nÂ  }\n\nÂ  return (\nÂ  <main className=\"px-4 sm:px-6 lg:px-8 py-8\">\n\nÂ  Â  <h1 className=\"text-3xl font-bold mb-8\">Dashboard</h1>\n\nÂ  Â  {/* KPI Cards */}\nÂ  Â  <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-8\">\nÂ  Â  Â  <KPICard title=\"Total Items\" value={totalItems} icon=\"ðŸ“¦\" color=\"green\" />\nÂ  Â  Â  <KPICard title=\"In Stock\" value={inStock} icon=\"ðŸ“\" color=\"blue\" />\nÂ  Â  Â  <KPICard title=\"Items Sold\" value={totalSold} icon=\"âœ”ï¸\" color=\"purple\" />\nÂ  Â  Â  <KPICard title=\"Total Sales\" value={`â‚±${totalSalesAmount.toFixed(2)}`} icon=\"ðŸ’°\" color=\"yellow\" />\nÂ  Â  </div>\n\nÂ  Â  {/* MAIN GRID: Charts Left, AI Insight Right */}\nÂ  Â  <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\n\nÂ  Â  Â  {/* LEFT SIDE â€“ Forecast + Category Charts */}\nÂ  Â  Â  <div className=\"lg:col-span-2 space-y-6\">\n\nÂ  Â  Â  Â  {/* AI Forecast Chart */}\nÂ  Â  Â  Â  <div className=\"bg-white dark:bg-slate-800 p-6 rounded-lg shadow\">\nÂ  Â  Â  Â  Â  <h2 className=\"text-xl font-bold mb-4\">AI Sales Forecast</h2>\nÂ  Â  Â  Â  Â  {overallChartData ? <Line data={overallChartData} /> : <p>No data available</p>}\nÂ  Â  Â  Â  </div>\n\nÂ  Â  Â  Â  {/* Category Chart */}\nÂ  Â  Â  Â  <div className=\"bg-white dark:bg-slate-800 p-6 rounded-lg shadow\">\nÂ  Â  Â  Â  Â  <h2 className=\"text-xl font-bold mb-4\">Category Performance</h2>\nÂ  Â  Â  Â  Â  {categoryChartData ? <Bar data={categoryChartData} /> : <p>No category data available</p>}\nÂ  Â  Â  Â  </div>\n\nÂ  Â  Â  </div>\n\nÂ  Â  Â  {/* RIGHT SIDE â€“ AI Insight Panel */}\nÂ  Â  Â  <div>\nÂ  Â  Â  Â  <div className=\"bg-blue-50 dark:bg-blue-900 p-5 rounded-lg shadow sticky top-4\">\nÂ  Â  Â  Â  Â  <h3 className=\"font-semibold text-blue-700 dark:text-blue-200 mb-2 text-lg\">\nÂ  Â  Â  Â  Â  Â  ðŸ¤– AI Insights\nÂ  Â  Â  Â  Â  </h3>\nÂ  Â  Â  Â  Â  <p className=\"text-sm leading-relaxed text-blue-800 dark:text-blue-100\">\nÂ  Â  Â  Â  Â  Â  {aiAnalysis || \"AI is analyzing your sales trends...\"}\nÂ  Â  Â  Â  Â  </p>\nÂ  Â  Â  Â  </div>\nÂ  Â  Â  </div>\n\nÂ  Â  </div>\n\nÂ  </main>\n)}"],"names":[],"mappings":"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"}}]
}